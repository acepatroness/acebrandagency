<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACE BRAND AGENCY | MANIFESTO</title>
    <style>
        /* Все твои существующие стили остаются */
        /* ... */
        
        #global-ash-canvas { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            z-index: 999; 
            pointer-events: none; 
        }
        
        /* Новый canvas для тумана */
        #fog-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 4; /* Поверх пергамента, под пеплом */
            pointer-events: none;
        }
    </style>
</head>
<body>
    <!-- Твой существующий контент -->
    
    <!-- НОВЫЙ canvas для тумана -->
    <canvas id="fog-canvas"></canvas>
    <canvas id="global-ash-canvas"></canvas>
    
    <script>
        // Анимация тумана
        if (!window.isFogInitialized) {
            (function() {
                const fogCanvas = document.getElementById('fog-canvas');
                if (!fogCanvas) return;
                
                const fogCtx = fogCanvas.getContext('2d');
                
                function resizeFogCanvas() {
                    fogCanvas.width = window.innerWidth;
                    fogCanvas.height = window.innerHeight;
                }
                resizeFogCanvas();
                window.addEventListener('resize', resizeFogCanvas);
                
                let fogTime = 0;
                
                function drawRealisticFog() {
                    const parchmentEl = document.getElementById('parchment');
                    if (!parchmentEl) return;
                    
                    const rect = parchmentEl.getBoundingClientRect();
                    const fogStartY = rect.bottom - 50; // Начинаем чуть выше низа пергамента
                    const fogHeight = 200;
                    
                    // Очищаем canvas
                    fogCtx.clearRect(0, 0, fogCanvas.width, fogCanvas.height);
                    
                    // Рисуем многослойный туман
                    for (let layer = 0; layer < 3; layer++) {
                        const layerOffset = layer * 20;
                        const opacity = (3 - layer) * 0.15;
                        
                        // Создаём волнистую форму тумана
                        fogCtx.beginPath();
                        fogCtx.moveTo(0, fogStartY + layerOffset);
                        
                        for (let x = 0; x <= fogCanvas.width; x += 20) {
                            const wave = Math.sin((x * 0.01) + (fogTime * 0.05) + (layer * 2)) * 15;
                            fogCtx.lineTo(x, fogStartY + layerOffset + wave);
                        }
                        
                        fogCtx.lineTo(fogCanvas.width, fogCanvas.height);
                        fogCtx.lineTo(0, fogCanvas.height);
                        fogCtx.closePath();
                        
                        // Градиент для этого слоя
                        const gradient = fogCtx.createLinearGradient(0, fogStartY + layerOffset, 0, fogStartY + layerOffset + fogHeight);
                        gradient.addColorStop(0, `rgba(240, 240, 245, ${opacity})`);
                        gradient.addColorStop(0.3, `rgba(220, 220, 230, ${opacity * 0.7})`);
                        gradient.addColorStop(1, 'rgba(200, 200, 210, 0)');
                        
                        fogCtx.fillStyle = gradient;
                        fogCtx.fill();
                    }
                    
                    fogTime += 1;
                }
                
                function animateFog() {
                    drawRealisticFog();
                    requestAnimationFrame(animateFog);
                }
                
                animateFog();
                window.isFogInitialized = true;
            })();
        }
        
        // Твоя существующая анимация пепла
        // ...
    </script>
</body>
</html>
